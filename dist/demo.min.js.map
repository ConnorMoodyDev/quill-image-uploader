{"version":3,"file":"demo.min.js","sources":["../src/demo.js"],"sourcesContent":["import Quill from \"quill\";\nimport ImageUploader from \"./quill.imageUploader.js\";\n\nQuill.debug(\"warn\");\nQuill.register(\"modules/imageUploader\", ImageUploader);\n\nconst fullToolbarOptions = [\n    [{ header: [1, 2, 3, false] }],\n    [\"bold\", \"italic\"],\n    [\"clean\"],\n    [\"image\"],\n];\nvar quill = new Quill(\"#editor\", {\n    theme: \"snow\",\n    modules: {\n        toolbar: {\n            container: fullToolbarOptions,\n        },\n        imageUploader: {\n            upload: (file) => {\n                const fileReader = new FileReader();\n                return new Promise((resolve, reject) => {\n                    fileReader.addEventListener(\n                        \"load\",\n                        () => {\n                            let base64ImageSrc = fileReader.result;\n                            setTimeout(() => {\n                                resolve(base64ImageSrc);\n                                //reject('Issue uploading file');\n                            }, 1500);\n                        },\n                        false\n                    );\n\n                    if (file) {\n                        fileReader.readAsDataURL(file);\n                    } else {\n                        reject(\"No file selected\");\n                    }\n                });\n            },\n        },\n    },\n});\n\nquill.on(\"text-change\", function(delta, oldDelta, source) {\n    if (source == \"api\") {\n        console.log(\"An API call triggered this change.\");\n    } else if (source == \"user\") {\n        console.log(\"A user action triggered this change.\");\n    }\n    console.log(oldDelta, delta);\n});\n\nquill.on(\"selection-change\", function(range, oldRange, source) {\n    if (range) {\n        if (range.length == 0) {\n            console.log(\"User cursor is on\", range.index);\n        } else {\n            var text = quill.getText(range.index, range.length);\n            console.log(\"User has highlighted\", text);\n        }\n    } else {\n        console.log(\"Cursor not in the editor\");\n    }\n});"],"names":["Quill","debug","register","ImageUploader","quill","theme","modules","toolbar","container","header","imageUploader","upload","file","fileReader","FileReader","Promise","resolve","reject","addEventListener","base64ImageSrc","result","setTimeout","readAsDataURL","on","delta","oldDelta","source","console","log","range","oldRange","length","index","text","getText"],"mappings":";AAGAA,EAAMC,MAAM,MACZD,GAAAA,EAAME,SAAS,yBAAyBC,CAQxC;AAAA,IAAIC,IAAQ,IAAIJ,EAAM,WAAW,EAC7BK,OAAO,QACPC,SAAS,EACLC,SAAS,EACLC,WAVe,CACvB,CAAC,EAAEC,QAAQ,CAAC,GAAG,GAAG,GAAG,KAAA,EAAA,CAAA,GACrB,CAAC,QAAQ,QACT,GAAA,CAAC,OACD,GAAA,CAAC,OAQGC,CAAAA,EAAAA,GAAAA,eAAe,EACXC,QAASC,CAAAA,OACL;AAAA,QAAMC,KAAa,IAAIC;AACvB,SAAO,IAAIC,QAAQ,CAACC,IAASC,MACzBJ;AAAAA,IAAAA,GAAWK,iBACP,QACA,MACI;AAAA,UAAIC,KAAiBN,GAAWO;AAChCC,iBAAW;AACPL,QAAAA,GAAQG,EAAAA;AAAAA,MAET,GAAA,IAAA;AAAA,IAAK,GAEZ,KAAA,GAGAP,KACAC,GAAWS,cAAcV,EAAAA,IAEzBK,EAAO,kBAAA;AAAA,EAC/B,CACkB;AAAA,EAAA,EAAA,EAAA,CAAA;AAMlBb,EAAMmB,GAAG,eAAe,SAASC,IAAOC,IAAUC,IAAAA;AAChC,WAAVA,KACAC,QAAQC,IAAI,wCACK,UAAVF,MACPC,QAAQC,IAAI,sCAEhBD,GAAAA,QAAQC,IAAIH,IAAUD;AAC1B,CAEApB,GAAAA,EAAMmB,GAAG,oBAAoB,SAASM,IAAOC,IAAUJ,GAAAA;AACnD,MAAIG,GACA,KAAoB,KAAhBA,GAAME,OACNJ,SAAQC,IAAI,qBAAqBC,GAAMG,KAAAA;AAAAA,OACpC;AACH,QAAIC,IAAO7B,EAAM8B,QAAQL,GAAMG,OAAOH,GAAME,MAAAA;AAC5CJ,YAAQC,IAAI,wBAAwBK,CAAAA;AAAAA,EAChD;AAAA,MAEQN,SAAQC,IAAI,0BAEpB;AAAA,CAAA;"}